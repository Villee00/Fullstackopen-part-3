{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Number.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterdPerson","onChangeHandle","value","onChange","PersonForm","addPerson","newName","handleChangeName","newNumber","handleChangeNumber","onSubmit","type","Number","deletePerson","person","name","number","onClick","Persons","personsToShow","persons","filter","toLowerCase","startsWith","map","baseUrl","axios","get","then","response","data","newPerson","post","personID","delete","id","put","Notification","message","error","style","color","backgroundColor","padding","borderStyle","borderColor","marginBottom","App","useState","setPersons","setNewName","setNewNumber","setFilterdPerson","notificationMessage","setNotificationMessage","isError","setIsError","useEffect","personService","event","target","preventDefault","personObj","some","obj","oldPerson","find","window","confirm","returnedPerson","per","setTimeout","concat","catch","console","log","newList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9bd17af7.chunk.js","sourcesContent":["import React from 'react';\n\n const Filter = ({ filterdPerson, onChangeHandle }) => {\n  return (\n    <div>\n      filter shown with <input value={filterdPerson} onChange={onChangeHandle}></input>\n    </div>\n  );\n};\nexport default Filter","import React from 'react';\n\nconst PersonForm = ({ addPerson, newName, handleChangeName, newNumber, handleChangeNumber }) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input\n          value={newName}\n          onChange={handleChangeName} />\n      </div>\n      <div>\n        number: <input\n          value={newNumber}\n          onChange={handleChangeNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\nexport default PersonForm","import React from 'react';\n\nconst Number = ({deletePerson, person }) => {\n  return (\n    <div>\n      <p>{person.name} {person.number}</p>\n      <button onClick={() => deletePerson(person)}>delete</button>\n    </div>\n\n  );\n};\n\nexport default Number\n","import React from 'react';\nimport Number from './Number';\n\nconst Persons = ({deletePerson, filterdPerson, persons }) => {\n  const personsToShow = persons.filter(person => person.name.toLowerCase().startsWith(filterdPerson.toLowerCase()));\n  return (\n    <div>\n      {personsToShow.map(person => <Number key={person.name} person={person} deletePerson={deletePerson}/>)}\n    </div>\n  );\n};\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons/'\n\nconst getAll = () =>{\n    const request = axios.get(baseUrl)  \n    return request.then(response => response.data)\n}\n\nconst create = newPerson =>{\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = personID =>{\n    const request = axios.delete(baseUrl + personID)\n    return request.then(response => response.data)\n}\n\nconst updatePerson = (id, newPerson) =>{\n    const request = axios.put(baseUrl + id, newPerson);\n    return request.then(response => response.data)\n}\nexport default {getAll, create, deletePerson, updatePerson}","import React from 'react';\n\nconst Notification = ({message, error}) =>{\n    const notificationStyle = {\n        color: 'white',\n        backgroundColor:'darkgrey',\n        padding: '10px',\n        borderStyle: \"solid\",\n        borderColor: \"black\",\n        marginBottom: \"5px\"\n    }\n    const errorStyle ={\n        color: 'red',\n        backgroundColor:'lightblue',\n        padding: '10px',\n        borderStyle: \"solid\",\n        borderColor: \"red\",\n        marginBottom: \"5px\"\n    }\n    \n    if(message === \"\" || message == null){\n        return null\n    }\n\n    if(error){\n        return(\n            <div style={errorStyle}>\n            {message}\n            </div>\n        )\n    }\n\n    return(\n        <div style={notificationStyle}>\n        {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterdPerson, setFilterdPerson] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState('')\n  const [isError, setIsError] = useState(false);\n\n  const handleChangeName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleChangeNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleChangeFilter = (event) => {\n    setFilterdPerson(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObj = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.some(obj => obj.name === newName)) {\n      const oldPerson = persons.find(obj => obj.name === newName);\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)) {\n        personService\n          .updatePerson(oldPerson.id, personObj)\n          .then(returnedPerson => {\n            setPersons(persons.map(per => per !== oldPerson ? per : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n          })\n        setNotificationMessage(`Replaced ${newName}`);\n\n        setTimeout(() => {\n          setIsError(false);\n          setNotificationMessage(null)\n        }, 2000)\n      }\n      return\n    }\n\n\n    personService\n      .create(personObj)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setNotificationMessage(`Added ${newName}`);\n      })\n      .catch(error => {\n        setIsError(true);\n        setNotificationMessage(error.response.data.error);\n        console.log(error.response.data.error)\n      })\n\n    setTimeout(() => {\n      setIsError(false);\n      setNotificationMessage(null)\n    }, 2000)\n  }\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .deletePerson(person.id)\n        .then(() => {\n          const newList = persons.filter((number) => number.id !== person.id);\n          setPersons(newList);\n          setNotificationMessage(`Deleted ${person.name}`);\n        })\n        .catch(error => {\n          setIsError(true);\n          setNotificationMessage(`Information of ${person.name} has already been removed from the server`)\n        })\n\n\n      setTimeout(() => {\n        setIsError(false);\n        setNotificationMessage(null)\n      }, 2000)\n    }\n  }\n\n  const hook = () => {\n    personService\n      .getAll()\n      .then(persons => {\n        setPersons(persons);\n      })\n  }\n\n  useEffect(hook, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} error={isError} />\n      <Filter filterdPerson={filterdPerson} onChangeHandle={handleChangeFilter} />\n\n      <h2>Add a new</h2>\n\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleChangeName={handleChangeName}\n        newNumber={newNumber}\n        handleChangeNumber={handleChangeNumber} />\n\n      <h2>Numbers</h2>\n\n      <Persons deletePerson={deletePerson} filterdPerson={filterdPerson} persons={persons} />\n    </div>\n  )\n\n}\nexport default App\n\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App/>,\n   document.getElementById('root')\n   );"],"sourceRoot":""}